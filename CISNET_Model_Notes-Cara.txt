
LEGEND:
_________________________________________________________________________
pop(d , v , h , s , x , p , g , a , r)
d - (disease) Disease
v - (viral) Viral load
h - (hpvVaxStates) Vaccine-type HPV precancer state
s - (hpvNonVaxStates) Non-vaccine-type HPV precancer state
x - (endpoints) Cervical cancer or hysterectomy status
p - (intervens) Vaccination and screening history
g - (gender) Gender
a - (age) Age
r - (risk) Risk

For d:
1 - HIV negative, uncircumcised
2 - HIV negative, circumcised
3 - Acute infection
4 - CD4 > 500 cells/uL
5 - CD4 500-350 cells/uL
6 - CD4 350-200 cells/uL
7 - CD4 <= 200 cells/uL
8 - HIV-positive on ART

For v:
1 - Acute infection (if 2<d<8) , 0 (if d = 1/2)
2 - VL < 1000 copies/mL
3 - VL 1000-10,000 copies/mL
4 - VL 10,000-50,000 copies/mL
5 - VL > 50,000 copies/mL
6 - On ART, virally suppressed

For h:
1 - Susceptible to vaccine type hrHPV 
2 - Infected with vaccine type hrHPV (16/18 & other 9v types)
3 - CIN1 (vaccine type)
4 - CIN2 (vaccine type)
5 - CIN3 (vaccine type)
6 - Cervical Cancer or hysterectomy
7 - Immune (vaccine type)

For s:
1 - Susceptible to non-vaccine type hrHPV
2 - Infected with non-vaccine type hrHPV (other high risk)
3 - CIN1 (non-vaccine type)
4 - CIN2 (non-vaccine type)
5 - CIN3 (non-vaccine type)
6 - Cervical Cancer or hysterectomy
7 - Immune (non-vaccine type)

For x:
1 - Cervical Cancer (Local) (if h or s = 6)
2 - Cervical Cancer (Regional)
3 - Cervical Cancer (Distant)
4 - Hysterectomy

For p:
1 - Non-vaccinated, non-screened
2 - Vaccinated
3 - Screened
4 - Vaccinated, screened

For g:
1 - Male
2 - Female

For a:
1- 0 (0-4)
2- 1 (5-9)
3- 2 (10-14)
4- 3 (15-19)
5- 4 (20-24)
6- 5 (25-29)
7- 6 (30-34)
8- 7 (35-39)
9- 8 (40-44)
10- 9 (45-49)
...
78- 77
79- 78
80- 79

For r:
1 - Low risk
2 - Medium risk
3 - High risk
*risk is defined by the number of partners per year



***************below not updated************************

NOTES: 
____________________________________________________________________

hysterectomy --> not susceptible to infection

How to retrive values for each compartment
toInd(allcomb(d , v , h , s , p , g , a , r))
Each of the above variables can be a single number, e.g. "3", or a range of numbers, e.g. "2:5"



SCRIPTS AND FUNCTIONS USED TO PREPARE AND RUN THE MODEL:
_________________________________________________________________________

Run model:
1) mainCalibrated.m 
   - historical trends up to current year
   - loads parameters/indices/matrices from the \Params directory
     \Params\calibratedParams (most recent calibration & all parameters after Nick)
     \Params\general (this and below loaded due to changes since Nick)
     \Params\mixInfectIndices
     \Params\hivIndices
     \Params\hpvIndices
     \Params\ageRiskInds  
     \Params\ager
     \Params\vlAdvancer
     \Params\fertMat
     \Params\hivFertMats
     \Params\fertMat2
     \Params\hivFertMats2
     \Params\deathMat
     \Params\circMat
     \Params\circMat2
   - saves outputs to the \HHCoM_Results directory
     \HHCoM_Results\toNow
   - uses the following functions
     progressbar.m
     ode4xtra.m    
     hpvCCdet.m
     hpvScreen.m 
     mixInfect.m
     hiv2a.m
     calcDist.m
     bornAgeDieRisk.m
     hpvVaxSchool.m
     showResults.m
     - loads parameters 
       \Params\calibratedParams
       \Params\calibData (probably not needed)
       \Params\general
       \HHCoM_Results\toNow

2) simVaxCEA2.m 
   - vaccination scenarios & cost analysis
   - loads parameters from the \Params directory
     \Params\calibratedParams (most recent calibration & all parameters after Nick)
     \Params\general (this and below loaded due to changes since Nick)
     \Params\mixInfectIndices
     \Params\hivIndices
     \Params\hpvIndices
     \Params\ageRiskInds  
     \Params\ager
     \Params\vlAdvancer
     \Params\fertMat
     \Params\hivFertMats
     \Params\fertMat2
     \Params\hivFertMats2
     \Params\deathMat
     \Params\circMat
     \Params\circMat2
   - loads parameters from the \HHCoM_Results directory
     \HHCoM_Results\toNow
   - saves outputs to the \HHCoM_Results\Vaccine directory
     \HHCoM_Results\Vaccine\vaxSimResult or \vaxWaneSimResult
   - uses the following functions
     allcomb.m
     ode4xtra.m   
     hpvCCdet.m 
     hpvScreen.m 
     mixInfect.m
     hiv2a.m
     calcDist.m
     bornAgeDieRisk.m
     hpvVaxLmtd.m
     hpvVaxSchool.m
     hpvVaxCU.m
     parsave.m
     vaxCEA.m

Load and prepare parameters for the model (only need to run when input parameters or transition matrices are changed):
1) loadUp.m*** 
   - imports data from the following Excel spreadsheets in \Config directory 
     (data imported into model is highlighted in yellow)
     \Config\Population_data.xlsx (Demographics)
     \Config\HIV_parameters.xlsx (Protection, Disease Data)
     \Config\HPV_parameters.xlsx (HPV, Cervical Cancer, Screening and Treatment, CIN Transition
     \Config\Weights_costs.xlsx (Costs)
     \Config\Calibration_targets (Calibration)
   - imports data from the following .mat file 
     settings.mat
   - saves parameters in the \Params directory as .mat files
     \Params\popData
     \Params\HIVParams
     \Params\general
     \Params\mixInfectParams
     \Params\vlBeta
     \Params\hpvData
     \Params\cost_weights
     \Params\calibData
   - if uncommented, calculates indices using the following function
     calcInds.m
     - which saves parameters in the \Params directory as .mat files
       mixInfectIndices.mat
       hivIndices.mat
       hpvIndices.mat
       hpvTreatIndices.mat
       ageRiskInds.mat
       vaxInds.mat
   ***parameters in calibratedParams.m don't necessarily match those loaded in by loadUp.m so for now better just to change manually in code
     
2) makeMat.m** 
   - creates transition matrices using data from Excel spreadsheets             ????
   **if data used in transition matrices changes, makeMat.m must be ran again

3) prepCalibParams.m (out of date)
   - combines a bunch of parameter matrices (some calibrated, some previously loaded) into one
   - loads parameters from the \Params directory previously imported from Excel files  
   - loads calibrated paramters from .dat file
   - saves parameters in the \Params directory as .mat file
     \Params\calibratedParams

Calibrate model: (out of date)
?) quickCalibrateModel.m
   - uses the following functions
     calibrator.m
     - uses the following functions
       hpvCCdet.m
       mixInfect.m
       hiv2a.m
       bornAgeDieRisk.m
       likeFun.m

?) quickCalibrateModelHIV.m
   - uses the following functions
     calibratorHIV.m
     - uses the following functions
       hpvCCdet.m
       mixInfect.m
       hiv2a.m
       bornAgeDieRisk.m
       likeFun.m
